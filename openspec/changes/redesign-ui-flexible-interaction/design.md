## 目标

- 默认简单：新用户开箱即可完成核心任务。
- 渐进增强：高级用户可按需开启布局灵活能力。
- 视觉一致：主题与组件行为由语义令牌统一驱动。

## 设计策略

### 1. 布局策略（Mixed）

- `Baseline`: 三栏工作台 + 顶部全局动作 + 底部状态反馈。
- `Progressive`: 折叠/展开、面板宽度调整、布局记忆。
- `Advanced`: 多 Workspace 预设（写作、校对、发布）。

### 2. 主题策略（Token-first）

- 基础令牌：`background / surface / text / border / primary / warning / success`。
- 语义映射：组件禁止直接写业务色值，统一走令牌。
- 模式支持：浅色、深色、跟随系统。

### 3. 可用性策略（Task-first）

核心路径：
1) 导入或写作
2) 样式调整
3) 预览校验
4) 导出或发布

验收重点：
- 主动作明确且唯一
- 关键状态可见（保存中、渲染中、可发布）
- 异常可恢复（错误提示 + 下一步建议）

## 现有能力到新信息架构映射

将当前工具栏能力按“任务域”重组，避免继续以“功能目录”驱动用户路径。

### 创作准备（Prepare）

- `article`（文章信息）
- `cover`（封面设计）
- `personal`（个人信息）
- `ai`（AI 设置）
- `cloud`（云存储，用于素材交付前置）

### 样式与预览（Review）

- `kits`（模板套装）
- `plugins`（插件管理）
- `general`（通用设置，含 UI 主题与行为偏好）
- `playground`（实验室，标记为高级入口）

### 交付中心（Deliver）

- `logs`（日志中心，扩展为交付日志总入口）
- 将现有“复制到平台”动作从信息表单区域抽离，归入交付主动作区。

## 交付交互状态机（Delivery State Machine）

```text
草稿已生成
   │ 运行发布前校验（标题/封面/格式/图片/平台约束）
   ▼
可发布性检查
  ├─ 通过 ───────────▶ ReadyToShip ──▶ Delivering ──▶ Success
  └─ 阻断 ───────────▶ Blocked ───────┘                │
                 ▲               │                    │
                 └──── 修复后回到校验 ◀──── Failed ◀───┘
```

状态定义：
- `ReadyToShip`: 可执行复制、导出、发布动作。
- `Blocked`: 存在阻断项，必须显示修复入口。
- `Delivering`: 执行中，必须提供进度反馈与可重试机制。
- `Failed`: 提供明确失败原因、重试路径与降级方案（例如改为复制导出）。
- `Success`: 记录任务结果与追踪日志。

## 页面主动作与反馈约束

- 每个页面必须且仅能有一个主动作（Primary Action）。
- 交付中心必须始终显示三项：`当前状态`、`阻断项数量`、`下一步建议`。
- 平台动作文案统一为三类语义：`复制`、`导出`、`发布`。
- 所有失败态必须包含可执行恢复动作，不允许仅展示错误文本。

## 风险与缓解

- 风险：布局自由度过高导致复杂性失控。
  - 缓解：分级开放能力，默认锁定稳定预设。
- 风险：主题系统迁移导致视觉回归。
  - 缓解：先令牌化再替换组件样式，分批灰度。
- 风险：重构期间交互路径变化影响老用户。
  - 缓解：提供过渡预设与行为说明。
